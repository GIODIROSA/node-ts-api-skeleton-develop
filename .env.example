# =============================================================================
# CONFIGURACIÓN DE LA API
# =============================================================================

# Puerto en el que se ejecutará el servidor
PORT=3000

# Ambiente de ejecución (dev, uat, prd)
NODE_ENV=uat

# Ruta base para los endpoints de la API
API_PATH=/api/liferay-assets

# =============================================================================
# CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL
# =============================================================================

# Usuario de la base de datos
DB_USER=xxxxxxx

# Contraseña de la base de datos
DB_PASSWORD=xxxxxxx

# Nombre de la base de datos
DB_NAME=node-ts-api-skeleton-db

# Puerto de la base de datos
DB_PORT=5432

# URL de conexión (se construye automáticamente en docker-compose)
# DATABASE_URL=postgresql://xxxxxxx:xxxxxxx@postgres:5432/node-ts-api-skeleton-db?schema=public

# Ejecutar seed al iniciar (true/false)
RUN_SEED=true

# Nivel de logging de Prisma (query, error, warn, info - separados por coma)
# En producción se recomienda solo 'error,warn', en desarrollo 'query,error,warn,info'
PRISMA_LOG_LEVEL=query,error,warn,info

# =============================================================================
# CONFIGURACIÓN DE LOGGING
# =============================================================================

# Nivel de logging (error, warn, info, debug, trace)
LOG_LEVEL=debug

# Ruta donde se almacenarán los archivos de log
LOG_PATH=./logs

# Nombre del servicio para identificar los logs
LOG_NAME=node-ts-api-skeleton

# =============================================================================
# CONFIGURACIÓN DE RATE LIMITING
# =============================================================================

# Incluir headers de rate limiting en las respuestas (true/false)
RATE_LIMIT_HEADERS=true

# Número máximo de requests permitidos por ventana de tiempo
RATE_LIMIT_MAX_REQUESTS=100

# Mensaje a mostrar cuando se excede el límite de requests
RATE_LIMIT_MESSAGE=Too many requests

# Ventana de tiempo para el rate limiting en milisegundos (60000ms = 1 minuto)
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# CONFIGURACIÓN DE CORS
# =============================================================================

# Orígenes permitidos para CORS (separados por coma si son múltiples)
CORS_ORIGINS=http://localhost:5173


# =============================================================================
# CONFIGURACIÓN DE JWT Y AUTENTICACIÓN
# =============================================================================

# Secreto para firmar los tokens JWT (usar una cadena aleatoria segura en producción)
# Generar con: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Tiempo de expiración del access token (ejemplos: 15m, 1h, 7d)
JWT_ACCESS_EXPIRATION=1h 

# Tiempo de expiración del refresh token (ejemplos: 7d, 30d, 90d)
JWT_REFRESH_EXPIRATION=7d

# =============================================================================
# CONFIGURACIÓN DE ENCRIPTACIÓN
# =============================================================================

# Clave de encriptación para datos sensibles (32 bytes en base64)
# Generar con: node -e "console.log('ENCRYPTION_KEY=' + require('crypto').randomBytes(32).toString('base64'))"
# Esta clave se usa para encriptar campos sensibles como gitAccessToken y oauthSecretId
ENCRYPTION_KEY=your-encryption-key-change-this-in-production

# Salt para la derivación de la clave de encriptación (64 bytes en base64)
# Generar con: node -e "console.log('ENCRYPTION_SALT=' + require('crypto').randomBytes(64).toString('base64'))"
# Debe ser diferente para cada ambiente (dev, uat, prod)
ENCRYPTION_SALT=your-encryption-salt-change-this-in-production
